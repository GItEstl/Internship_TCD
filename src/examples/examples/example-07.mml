type IntChan = channel int
type Switch = channel (IntChan,Switch)
type Gain = channel (IntChan,Switch,IntChan) 
type Lose = channel (IntChan,Switch)

func void system (int pos) {}

func void car (IntChan talk, Switch switch, int pos) {
def
    IntChan t;
    Switch s;
    int newPos;
    list [int] l;
    list [int] m
in
    newPos = pos + 1;
    choose {
        | (t,s) = receive (switch) -> {} 
    };
    l = [1];
    m = tail(l)
}

start system(0)